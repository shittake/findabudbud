{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ericl/findabudbud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport crossFetch from 'cross-fetch';\nexport function expiresAt(expiresIn) {\n  var timeNow = Math.round(Date.now() / 1000);\n  return timeNow + expiresIn;\n}\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\nexport var isBrowser = function isBrowser() {\n  return typeof window !== 'undefined';\n};\nexport function getParameterByName(name, url) {\n  var _a;\n\n  if (!url) url = ((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.href) || ''; // eslint-disable-next-line no-useless-escape\n\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&#]' + name + '(=([^&#]*)|&|#|$)'),\n      results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\nexport var resolveFetch = function resolveFetch(customFetch) {\n  var _fetch;\n\n  if (customFetch) {\n    _fetch = customFetch;\n  } else if (typeof fetch === 'undefined') {\n    _fetch = crossFetch;\n  } else {\n    _fetch = fetch;\n  }\n\n  return function () {\n    return _fetch.apply(void 0, arguments);\n  };\n}; // LocalStorage helpers\n\nexport var setItemAsync = function setItemAsync(storage, key, data) {\n  return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = isBrowser();\n\n            if (!_context.t0) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 4;\n            return storage === null || storage === void 0 ? void 0 : storage.setItem(key, JSON.stringify(data));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n};\nexport var getItemAsync = function getItemAsync(storage, key) {\n  return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var value;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.t0 = isBrowser();\n\n            if (!_context2.t0) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 4;\n            return storage === null || storage === void 0 ? void 0 : storage.getItem(key);\n\n          case 4:\n            _context2.t0 = _context2.sent;\n\n          case 5:\n            value = _context2.t0;\n\n            if (value) {\n              _context2.next = 8;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", null);\n\n          case 8:\n            _context2.prev = 8;\n            return _context2.abrupt(\"return\", JSON.parse(value));\n\n          case 12:\n            _context2.prev = 12;\n            _context2.t1 = _context2[\"catch\"](8);\n            return _context2.abrupt(\"return\", value);\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[8, 12]]);\n  }));\n};\nexport var getItemSynchronously = function getItemSynchronously(storage, key) {\n  var value = isBrowser() && (storage === null || storage === void 0 ? void 0 : storage.getItem(key));\n\n  if (!value || typeof value !== 'string') {\n    return null;\n  }\n\n  try {\n    return JSON.parse(value);\n  } catch (_a) {\n    return value;\n  }\n};\nexport var removeItemAsync = function removeItemAsync(storage, key) {\n  return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.t0 = isBrowser();\n\n            if (!_context3.t0) {\n              _context3.next = 4;\n              break;\n            }\n\n            _context3.next = 4;\n            return storage === null || storage === void 0 ? void 0 : storage.removeItem(key);\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n};","map":{"version":3,"mappings":"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","names":["crossFetch","expiresAt","expiresIn","timeNow","Math","round","Date","now","uuid","replace","c","r","random","v","toString","isBrowser","window","getParameterByName","name","url","location","_a","href","regex","RegExp","results","exec","decodeURIComponent","resolveFetch","customFetch","_fetch","fetch","setItemAsync","storage","key","data","__awaiter","setItem","JSON","stringify","getItemAsync","getItem","value","parse","getItemSynchronously","removeItemAsync","removeItem"],"sourceRoot":"","sources":["../../../src/lib/helpers.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}